apply plugin: 'com.android.application'

android {
    compileSdkVersion 28
    buildToolsVersion '28.0.3'

    defaultConfig {
        vectorDrawables.useSupportLibrary = true
        minSdkVersion 15
        targetSdkVersion 28
        versionCode 245
        versionName "10"

        ndk {
            abiFilters "armeabi-v7a", "x86", "arm64-v8a"
        }
        multiDexEnabled true
    }
    sourceSets { main { assets.srcDirs = ['src/main/assets', 'src/main/TrainedModels'] } }
}

repositories {
    flatDir {
        dirs 'libs'
    }
    maven {
        url 'https://anylinesdk.blob.core.windows.net/maven/'
    }
}

//configurations.all {
//    resolutionStrategy.eachDependency { DependencyResolveDetails details ->
//        def requested = details.requested
//        if (requested.group == "com.android.support") {
//            if (!requested.name.startsWith("multidex")) {
//                details.useVersion "27.+"
//            }
//        }
//    }
//}

configurations {
    customImplementation
}

dependencies {
    implementation fileTree(dir: 'libs', include: ['*.jar'])
    implementation 'androidx.appcompat:appcompat:1.1.0-alpha02'
    implementation 'androidx.legacy:legacy-preference-v14:1.0.0'
    implementation 'com.google.android.material:material:1.1.0-alpha04'
    implementation 'androidx.multidex:multidex:2.0.1'

    //include AnylineSDK from locale libs folder
    //api(name:'anylinesdk-release-10-RC5', ext:'aar')

    //include AnylineSDK from maven
    api 'io.anyline:anylinesdk:10@aar'

    implementation 'io.intercom.android:intercom-sdk:5.1.6'

    // include the vision-version we need for barcode scanning
    implementation 'com.google.firebase:firebase-ml-vision:19.0.2'
    implementation 'com.google.firebase:firebase-ml-vision-face-model:17.0.2'

    customImplementation('io.anyline:anylinesdk:10@aar')
}

